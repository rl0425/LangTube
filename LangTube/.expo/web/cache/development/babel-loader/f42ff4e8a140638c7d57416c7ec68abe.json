{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\parkgichan\\\\Desktop\\\\\\uC790\\uAE30\\uC18C\\uAC1C\\uC11C\\\\langtube\\\\Rangtube\\\\source\\\\pages\\\\SignUp.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Actions } from \"react-native-router-flux\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport Logo from \"../components/Logo\";\nimport InputText from \"../components/InputText\";\nimport { createUser } from \"../actions/auth.actions\";\nimport Loader from \"../components/Loader\";\nimport { SignUpError } from \"../utils/SignUpError\";\n\nvar SignUp = function (_React$Component) {\n  _inherits(SignUp, _React$Component);\n\n  var _super = _createSuper(SignUp);\n\n  function SignUp() {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.createUser = function _callee(values) {\n      var response, newError;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this.props.dispatch(createUser(values)));\n\n            case 3:\n              response = _context.sent;\n\n              if (response.success) {\n                _context.next = 6;\n                break;\n              }\n\n              throw response;\n\n            case 6:\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              newError = new SignUpError(JSON.stringify(_context.t0), \"회원가입 오류\");\n              newError.showAlert();\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    _this.onSubmit = function (values) {\n      _this.createUser(values);\n    };\n\n    _this.renderTextInput = function (field) {\n      var _field$meta = field.meta,\n          touched = _field$meta.touched,\n          error = _field$meta.error,\n          label = field.label,\n          secureTextEntry = field.secureTextEntry,\n          maxLength = field.maxLength,\n          keyboardType = field.keyboardType,\n          placeholder = field.placeholder,\n          _field$input = field.input,\n          onChange = _field$input.onChange,\n          restInput = _objectWithoutProperties(_field$input, [\"onChange\"]);\n\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }, React.createElement(InputText, _extends({\n        onChangeText: onChange,\n        maxLength: maxLength,\n        placeholder: placeholder,\n        keyboardType: keyboardType,\n        secureTextEntry: secureTextEntry,\n        label: label\n      }, restInput, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      })), error && touched && React.createElement(Text, {\n        style: styles.errorText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 40\n        }\n      }, error));\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"loginPage\",\n    value: function loginPage() {\n      Actions.pop();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          handleSubmit = _this$props.handleSubmit,\n          createUser = _this$props.createUser;\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, createUser.isLoading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 42\n        }\n      }), React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: styles.formContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, React.createElement(Field, {\n        name: \"name\",\n        placeholder: \" Name (2\\uAE00\\uC790 \\uC774\\uC0C1)\",\n        component: this.renderTextInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }), React.createElement(Field, {\n        name: \"email\",\n        placeholder: \" Email (6\\uAE00\\uC790 \\uC774\\uC0C1)\",\n        component: this.renderTextInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }), React.createElement(Field, {\n        name: \"password\",\n        placeholder: \" Password (6\\uAE00\\uC790 \\uC774\\uC0C1)\",\n        secureTextEntry: true,\n        component: this.renderTextInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.signUpButton,\n        onPress: handleSubmit(this.onSubmit),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.signUpButtonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }\n      }, \"\\uAC00\\uC785\"))), React.createElement(View, {\n        style: styles.loginTextCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.loginText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, \"\\uACC4\\uC815\\uC774 \\uC788\\uC73C\\uC2E0\\uAC00\\uC694?  \"), React.createElement(TouchableOpacity, {\n        onPress: this.loginPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.loginTextButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }\n      }, \"\\uB85C\\uADF8\\uC778\"))));\n    }\n  }]);\n\n  return SignUp;\n}(React.Component);\n\nvar validate = function validate(values) {\n  var errors = {};\n\n  if (!values.name) {\n    errors.name = \"이름을 입력해주세요.\";\n  }\n\n  if (!values.email) {\n    errors.email = \"메일주소를 입력해주세요.\";\n  }\n\n  if (!values.password) {\n    errors.password = \"비밀번호를 입력해주세요.\";\n  }\n\n  return errors;\n};\n\nmapStateToProps = function mapStateToProps(state) {\n  return {\n    createUser: state.authReducer.createUser\n  };\n};\n\nmapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    dispatch: dispatch\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), reduxForm({\n  form: \"register\",\n  validate: validate\n}))(SignUp);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  formContainer: {\n    flex: 1.5,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\"\n  },\n  loginTextCont: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginVertical: 15,\n    flexDirection: \"row\"\n  },\n  loginText: {\n    color: \"#6E6E6E\"\n  },\n  loginTextButton: {\n    color: \"#000000\",\n    fontWeight: \"600\"\n  },\n  signUpButton: {\n    backgroundColor: \"#000000\",\n    width: 300,\n    borderRadius: 20,\n    marginVertical: 25,\n    justifyContent: \"center\",\n    height: 40\n  },\n  signUpButtonText: {\n    color: \"#FFFFFF\",\n    fontSize: 17,\n    fontWeight: \"500\",\n    textAlign: \"center\"\n  },\n  errorText: {\n    color: \"#6E6E6E\",\n    fontSize: 13,\n    paddingHorizontal: 5,\n    paddingBottom: 3\n  },\n  buttonAlign: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    marginTop: 10,\n    marginBottom: 40,\n    height: 60,\n    borderTopColor: 'black',\n    borderTopWidth: 1.5,\n    borderBottomColor: 'black',\n    borderBottomWidth: 1.5\n  }\n});","map":{"version":3,"sources":["C:/Users/parkgichan/Desktop/자기소개서/langtube/Rangtube/source/pages/SignUp.js"],"names":["React","Actions","Field","reduxForm","connect","compose","Logo","InputText","createUser","Loader","SignUpError","SignUp","values","props","dispatch","response","success","newError","JSON","stringify","showAlert","onSubmit","renderTextInput","field","meta","touched","error","label","secureTextEntry","maxLength","keyboardType","placeholder","input","onChange","restInput","styles","errorText","pop","handleSubmit","container","isLoading","formContainer","signUpButton","signUpButtonText","loginTextCont","loginText","loginPage","loginTextButton","Component","validate","errors","name","email","password","mapStateToProps","state","authReducer","mapDispatchToProps","form","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","marginVertical","flexDirection","color","fontWeight","width","borderRadius","height","fontSize","textAlign","paddingHorizontal","paddingBottom","buttonAlign","marginTop","marginBottom","borderTopColor","borderTopWidth","borderBottomColor","borderBottomWidth"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { StyleSheet, Text, View, TouchableOpacity, Alert } from \"react-native\";\r\n\r\n/** 모듈 */\r\nimport { Actions } from \"react-native-router-flux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\n\r\n/** 컴포넌트 */\r\nimport Logo from \"../components/Logo\";\r\nimport InputText from \"../components/InputText\";\r\nimport { createUser } from \"../actions/auth.actions\";\r\nimport Loader from \"../components/Loader\";\r\nimport { SignUpError } from \"../utils/SignUpError\";\r\n\r\n/** 회원가입 기능의 전체적인 실행을 담당하는 클래스 */\r\nclass SignUp extends React.Component {\r\n\r\n    /** 로그인 페이지로 이동 */\r\n    loginPage() {\r\n        Actions.pop();\r\n    }\r\n\r\n    /** 회원가입 동작을 서버와 통신 */\r\n    createUser = async (values) => {\r\n        try {\r\n            const response = await this.props.dispatch(createUser(values));\r\n            if (!response.success) {\r\n                throw response;\r\n            }\r\n        }\r\n        /** 오류 메시지 출력 */\r\n        catch (error) {\r\n            const newError = new SignUpError(JSON.stringify(error), \"회원가입 오류\");\r\n            newError.showAlert();\r\n        }\r\n    }\r\n\r\n    onSubmit = (values) => {\r\n        this.createUser(values);\r\n    }\r\n\r\n    /** 회원가입 양식에 대한 오류 메시지 출력 */\r\n    renderTextInput = (field) => {\r\n        const { meta: { touched, error }, label, secureTextEntry, maxLength, keyboardType, placeholder, input: { onChange, ...restInput } } = field;\r\n        return (\r\n            <View>\r\n                <InputText\r\n                    onChangeText={onChange}\r\n                    maxLength={maxLength}\r\n                    placeholder={placeholder}\r\n                    keyboardType={keyboardType}\r\n                    secureTextEntry={secureTextEntry}\r\n                    label={label}\r\n                    {...restInput} />\r\n                {(error && touched) && <Text style={styles.errorText}>{error}</Text>}\r\n            </View>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { handleSubmit, createUser } = this.props;\r\n        return (\r\n            <View style={styles.container}>\r\n                {/* 로딩화면 */}\r\n                {createUser.isLoading && <Loader />}\r\n\r\n                {/* 로고 */}\r\n                <Logo />\r\n\r\n                <View style={styles.formContainer}>\r\n                    {/* 회원가입 양식 */}\r\n                    <Field\r\n                        name=\"name\"\r\n                        placeholder=\" Name (2글자 이상)\"\r\n                        component={this.renderTextInput} />\r\n                    <Field\r\n                        name=\"email\"\r\n                        placeholder=\" Email (6글자 이상)\"\r\n                        component={this.renderTextInput} />\r\n                    <Field\r\n                        name=\"password\"\r\n                        placeholder=\" Password (6글자 이상)\"\r\n                        secureTextEntry={true}\r\n                        component={this.renderTextInput} />\r\n                    {/* 가입 버튼 */}\r\n                    <TouchableOpacity style={styles.signUpButton} onPress={handleSubmit(this.onSubmit)}>\r\n                        <Text style={styles.signUpButtonText}>가입</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                {/* 로그인 페이지 전환 버튼 */}\r\n                <View style={styles.loginTextCont}>\r\n                    <Text style={styles.loginText}>계정이 있으신가요?  </Text>\r\n                    <TouchableOpacity onPress={this.loginPage}>\r\n                        <Text style={styles.loginTextButton}>로그인</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\n/** 유효성 검사 */\r\nconst validate = (values) => {\r\n    const errors = {};\r\n    if (!values.name) {\r\n        errors.name = \"이름을 입력해주세요.\"\r\n    }\r\n    if (!values.email) {\r\n        errors.email = \"메일주소를 입력해주세요.\"\r\n    }\r\n    if (!values.password) {\r\n        errors.password = \"비밀번호를 입력해주세요.\"\r\n    }\r\n    return errors;\r\n};\r\n\r\n/** store가 업데이트 될때마다 자동으로 호출 */\r\n/** connect함수 첫번째 인자로 들어감 */\r\nmapStateToProps = (state) => ({\r\n    createUser: state.authReducer.createUser\r\n});\r\n\r\n/** store에 접근한 컴포넌트가 store의 상태를 바꾸기 위해 사용 */\r\n/** connect함수 두번째 인자로 들어감 */\r\nmapDispatchToProps = (dispatch) => ({\r\n    dispatch\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    reduxForm({\r\n        form: \"register\",\r\n        validate\r\n    })\r\n)(SignUp);\r\n\r\n/** 스타일 */\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#fff\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    formContainer: {\r\n        flex: 1.5,\r\n        backgroundColor: \"#fff\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"flex-start\",\r\n    },\r\n    loginTextCont: {\r\n        flex: 1,\r\n        backgroundColor: \"#fff\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        marginVertical: 15,\r\n        flexDirection: \"row\"\r\n    },\r\n    loginText: {\r\n        color: \"#6E6E6E\"\r\n    },\r\n    loginTextButton: {\r\n        color: \"#000000\",\r\n        fontWeight: \"600\"\r\n    },\r\n    signUpButton: {\r\n        backgroundColor: \"#000000\",\r\n        width: 300,\r\n        borderRadius: 20,\r\n        marginVertical: 25,\r\n        justifyContent: \"center\",\r\n        height: 40\r\n    },\r\n    signUpButtonText: {\r\n        color: \"#FFFFFF\",\r\n        fontSize: 17,\r\n        fontWeight: \"500\",\r\n        textAlign: \"center\"\r\n    },\r\n    errorText: {\r\n        color: \"#6E6E6E\",\r\n        fontSize: 13,\r\n        paddingHorizontal: 5,\r\n        paddingBottom: 3\r\n    },\r\n    buttonAlign: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        marginTop: 10,\r\n        marginBottom: 40,\r\n        height: 60,\r\n        borderTopColor: 'black',\r\n        borderTopWidth: 1.5,\r\n        borderBottomColor: 'black',\r\n        borderBottomWidth: 1.5,\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}